<!DOCTYPE html>
<html>
<head>
  <base href="$FLUTTER_BASE_HREF">

  <meta charset="UTF-8">
  <meta content="IE=Edge" http-equiv="X-UA-Compatible">
  <meta name="description" content="A new Flutter project.">

  <!-- iOS meta tags & icons -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="drivetogether">
  <link rel="apple-touch-icon" href="icons/Icon-192.png">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="favicon.png"/>
  <meta name="google-signin-client_id" content="101895701888-cftqsqp2qo1otubcu690b03lgvgk8q23.apps.googleusercontent.com">

  <!-- Facebook SDK -->
  <script>
    window.fbAsyncInit = function() {
      FB.init({
        appId      : '1434362587181905',
        cookie     : true,
        xfbml      : true,
        version    : 'v10.0'
      });
      FB.AppEvents.logPageView();   
    };

    (function(d, s, id){
       var js, fjs = d.getElementsByTagName(s)[0];
       if (d.getElementById(id)) {return;}
       js = d.createElement(s); js.id = id;
       js.src = "https://connect.facebook.net/en_US/sdk.js";
       fjs.parentNode.insertBefore(js, fjs);
     }(document, 'script', 'facebook-jssdk'));
  </script>

  <title>drivetogether</title>
  <link rel="manifest" href="manifest.json">

  <script>
    const serviceWorkerVersion = null;
  </script>
  <!-- Flutter initialization -->
  <script src="flutter.js" defer></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC-OTIP0wqfut_dspRVK-Uam_enFG6q-PE"></script>
</head>
<body>
  <!-- Google Sign-In SDK -->
  <script src="https://apis.google.com/js/platform.js" async defer></script>

  <script>
    window.addEventListener('load', function(ev) {
      _flutter.loader.loadEntrypoint({
        serviceWorker: {
          serviceWorkerVersion: serviceWorkerVersion,
        },
        onEntrypointLoaded: function(engineInitializer) {
          engineInitializer.initializeEngine().then(function(appRunner) {
            appRunner.runApp();
          });
        }
      });
    });
  </script>

  <script>
    function loginWithFacebook() {
      if (typeof FB !== 'undefined') {
        FB.login(function(response) {
          if (response.authResponse) {
            console.log('Welcome!  Fetching your information.... ');
            FB.api('/me', function(response) {
              console.log('Good to see you, ' + response.name + '.');
            });
          } else {
            console.log('User cancelled login or did not fully authorize.');
          }
        });
      } else {
        console.error('Facebook SDK not loaded yet.');
      }
    }
  </script>

  <!-- Your login form HTML here -->
  <div id="login-page">
    <h1>Login</h1>
    <form>
      <div>
        <label for="email">E-mail</label>
        <input type="email" id="email" name="email">
      </div>
      <div>
        <label for="password">Mot de passe</label>
        <input type="password" id="password" name="password">
      </div>
      <button type="submit">Se connecter</button>
    </form>
    <button onclick="loginWithFacebook()">Facebook</button>
    <button onclick="googleLogin()">Google</button>
  </div>
</body>
</html>
